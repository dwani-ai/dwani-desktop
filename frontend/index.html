<!DOCTYPE html>
<html>
  <head>
    <title>Dwani Desktop</title>
    <style>
      body { font-family: Arial; padding: 20px; max-width: 1200px; margin: auto; }
      #chatbot { height: calc(100vh - 200px); max-height: 800px; border: 1px solid #ccc; overflow-y: auto; padding: 10px; }
      .message { margin: 10px; padding: 10px; border-radius: 5px; }
      .user { background: #e6f3ff; }
      .assistant { background: #f0f0f0; }
      #input { width: 100%; height: 100px; resize: none; }
      #pdf-input { margin: 10px 0; }
      #settings { margin: 20px 0; }
      #instructions { margin: 20px 0; }
      #buttons { margin: 10px 0; }
      #loading { display: none; margin: 10px 0; color: #555; }
      #pdf-input:disabled { opacity: 0.5; cursor: not-allowed; }
    </style>
  </head>
  <body>
    <h1>ðŸ“„ Document Chat - Query Your PDF</h1>
    <div style="display: flex;">
      <div style="flex: 3;">
        <div id="settings">
          <label>API Endpoint: <input id="apiEndpoint" value="http://0.0.0.0:18889"></label><br>
          <label>Model: <select id="model">
            <option value="gemma3">gemma3</option>
            <option value="gpt-oss">gpt-oss</option>
          </select></label><br>
          <button onclick="saveConfig()">Save Config</button>
        </div>
        <button id="pdf-input" onclick="selectPdfs()">Select PDF</button>
        <div id="loading">Processing PDF...</div>
        <div id="selected-file"></div>
        <div id="chatbot"></div>
        <textarea id="input" placeholder="Ask something about the document..."></textarea>
        <div id="buttons">
          <button onclick="sendPrompt()">Send</button>
          <button onclick="clearChat()">Clear Chat</button>
          <button onclick="newChat()">New Chat</button>
        </div>
      </div>
      <div style="flex: 1; margin-left: 20px;">
        <h3>Instructions</h3>
        <p>
          1. Click 'Select PDF' to upload a PDF document (max 10MB).<br>
          2. Wait for the PDF to process (a loading message will appear).<br>
          3. Ask questions about the document in the chat box.<br>
          4. The assistant will respond based on the document's content.<br>
          5. Use 'Clear Chat' to reset the conversation history.<br>
          6. Use 'New Chat' to start a new session (clears chat and PDF).
        </p>
      </div>
    </div>
    <script src="renderer.js"></script>
  </body>
</html>